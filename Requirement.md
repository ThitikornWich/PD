# AI Production Shift Scheduling (BD Production) — Gemini Integration Guide

## โครงการนี้คืออะไร?
โปรเจคนี้สร้างระบบ **AI Scheduling** เพื่อจัดตารางกะการทำงานแบบอัตโนมัติให้กับทีม Production หลายสาขา พร้อมคำนึงถึงกฎเกณฑ์และข้อจำกัดการทำงานที่องค์กรใช้จริง

- ลดภาระ-ข้อผิดพลาดจากการจัดกะมือ
- สร้างตารางที่ “ตอบโจทย์ Constraint เฉพาะขององค์กร”
- Output พร้อมใช้งานทันที (CSV, Google Sheets)
- รองรับ Manual Adjust ได้ทุกเมื่อ

---

## โครงสร้าง Workflow (สำหรับ Gemini CLI & AI)
1. **เตรียมไฟล์รายชื่อและตารางกะ**
    - อัปเดตไฟล์ [SimpleTest1.csv] ให้ล่าสุด
    - ข้อมูลควรมี: ทีม, ชื่อ, ตำแหน่ง, วันในเดือน (26, 27, ..., 25), จำนวนวันทำงาน, วันหยุด ฯลฯ
2. **แนบ Rule หรือ Constraint ที่องค์กรใช้** (ดูตัวอย่างด้านล่าง)
3. **รัน Gemini CLI พร้อม Prompt (ตัวอย่างด้านล่าง)**
    - แนบไฟล์ .csv และ Rule
    - ขอให้ Gemini สร้างตารางใหม่, ปรับแก้กะ, หรือวิเคราะห์ข้อผิดพลาด
4. **นำ Output ที่ได้ (CSV/Markdown Table) กลับไปใช้งาน**
    - Import เข้า Google Sheets หรือระบบงานต่อ
    - ตรวจสอบ/แก้ไข Manual ถ้าต้องการ

---

## รูปแบบ Output ที่ต้องการ (Requirement สำคัญ)
- ตารางกะต้องมีหัวตารางแนวนอน (วันที่ 26-25) พร้อมชื่อวันกำกับ
- **แสดงรหัส “Q”** เฉพาะในช่องวันที่เป็นวันหยุดนักขัตฤกษ์, วันงดสวด หรือวันสำคัญทางศาสนาเท่านั้น  
- วันอื่น ๆ ให้แสดงเฉพาะเวลาเข้ากะ หรือเว้นว่าง
- **ห้ามใช้รหัสอื่น (เช่น BD, ALL, LP ฯลฯ)**
- หากวันหยุดตรงกับวันดอกไม้จีน แสดง Q เพียงอย่างเดียว
- ต้องมีคอลัมน์ “รวมวันทำงาน” และ “วันหยุด” อยู่ขวาสุดของแต่ละแถว
- ไม่ต้องแสดงหมายเหตุพิเศษเรื่องวันดอกไม้จีนในช่องตาราง (แต่สามารถโชว์ในคอลัมน์หมายเหตุรวมได้ถ้าต้องการ)

**ตัวอย่าง Output:**

| ทีม | ชื่อเล่น | ... | 26 | 27 | 28 | ... | 25 | รวมวันทำงาน | วันหยุด |
|-----|----------|-----|----|----|----|-----|----|--------------|--------|
| ... | ...      | ... | 9:00| Q  |9:00| ... | Q  |     21       |   10   |
| ... | ...      | ... | Q  |9:00|9:00| ... |    |     19       |   12   |

---

## ตัวอย่าง Rule & Constraint (แนบใน Prompt หรือแยกไฟล์)
```markdown
# Rule/Constraint ตารางกะ Production

## 1. ช่างดอกไม้สด
- DC & นารา ใช้พนักงานชุดเดียวกัน
    - นารา:
        - จันทร์-ศุกร์: มีพนักงานกะ 7:00 และ 11:00 อย่างละ 1 คน/วัน
        - เสาร์-อาทิตย์: มีพนักงานกะ 9:00 วันละ 1 คน
        - เฉลี่ยจำนวนวันเข้ากะนาราให้เท่า ๆ กันที่สุด
    - DC:
        - มีช่างขั้นต่ำ 2-3 คน/วัน
        - วันจันทร์/หลังวันหยุดนักขัตฤกษ์: ต้องมีช่างมากที่สุด
- สาขา 2:
    - มีช่างกะ 8:00 และ 9:00 หมุนเวียนเข้ากะ

## 2. ผู้ช่วยช่างดอกไม้ & แอดมินดอกไม้สด
- ผู้ช่วยช่าง (DC): กะ 9:00 เน้นพฤหัส/อาทิตย์ (หยุดวันดังกล่าวได้ 1 ครั้ง/เดือน)
- ผู้ช่วยช่าง (สาขา 2): กะ 8:00 เน้นพฤหัส/อาทิตย์ (หยุดวันดังกล่าวได้ 1 ครั้ง/เดือน)
- แอดมิน (DC: พี่รุ้ง/หนูดี): กะ 9:00 ห้ามหยุดพร้อมกัน (ถ้าจำเป็นต้องมีพี่ฝนเข้างาน)
- แอดมิน (สาขา 2: แป้ง): กะ 9:00 ถ้าหยุด ต้องมีช่าง 3 คนขึ้นไป

## 3. ทีมดอกไม้ประดิษฐ์
- DC: 
    - แก้ม (9:00): จัดอย่างไรก็ได้
    - พี่ฝน (10:00): เน้นหยุดพุธหรือพฤหัส
- สาขา 2:
    - พี่นุ่น (10:00): เน้นหยุดวันที่ 30-31-1
    - แฮน (10:00): จัดอย่างไรก็ได้

## 4. Special Rule
- พี่รุ้ง: ต้องหยุดเสาร์-อาทิตย์ 1 week/เดือน
- หนูดี: หยุดอาทิตย์ทุกสัปดาห์
- ห้าม พี่รุ้ง/หนูดี/พี่ฝน (DC) หยุดพร้อมกัน
- ห้าม พี่ฝน (DC) กับ พี่นุ่น (สาขา 2) หยุดพร้อมกัน
- หลังหยุดนักขัตฤกษ์ต้องมีคนเข้าเยอะ
- ห้ามผู้ช่วยช่างกับแอดมินหยุดพร้อมกัน (ถ้าจำเป็นต้องมีทีมประดิษฐ์เข้า)
